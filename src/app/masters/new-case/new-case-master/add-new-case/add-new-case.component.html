<div class="mt-5">
    <form #params="ngForm" (ngSubmit)="onGetCaseDetails(params)">
        <div class="row d-flex justify-content-center mt-4">
            <div class="col-md-2 mb-2">
                <label class="form-label">Case Type</label>
                <select class="form-select" id="caseType" name="case_type" [(ngModel)]="caseType" #case_type="ngModel" required>
                    <option disabled selected value="0">---Select Case Type---</option>
                    <option *ngFor="let case_type of case_types" value="{{case_type.case_type}}">{{case_type.type_name}}</option>
                </select>
            </div>
            <div class="col-md-2 mb-2">
                <label class="form-label">Case Number</label>
                <input type="text" minLength="1" maxLength="3" pattern="\d{1,3}" class="form-control" name="case_number" ngModel #case_number="ngModel" required>
                <small class="text-danger" *ngIf="case_number.touched && case_number.invalid">Please enter a valid case number</small>
            </div>
            <div class="col-md-2 mb-2">
                <label class="form-label">Year</label>
                <select class="form-select" name="case_year" [(ngModel)]="caseYear" #case_year="ngModel" required>
                    <option *ngFor="let year of years" value="{{year}}">{{year}}</option>
                </select>
            </div>
            <div class="col-md-1 mb-2 text-center">
                <button class="btn btn-primary" style="margin-top:31px;">Search</button>
            </div>
        </div>
    </form>
</div>
<div class="d-flex justify-content-center mt-4" *ngIf="showError">
    <div class="alert alert-danger text-center" style="width: 55%;">
        No records Found !!!
    </div>
</div> 
<div class="details px-5" [hidden]="!showDetails">
    <div class="stepwizard mt-5">
        <div class="stepwizard-row setup-panel">
            <div class="stepwizard-step">
                <a href="#step1" type="button" class="btn btn-primary btn-circle">1</a>
                <p>Case Details</p>
            </div>
            <div class="stepwizard-step">
                <a href="#step2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>
                <p>Upload Documents</p>
            </div>
        </div>
    </div>
    <div role="form" class="mt-3">
        <div class="row setup-content" id="step1">
            <div class="details mt-3 px-5">
                <div class="row">
                    <div class="col-md-4">
                        <div class="row mt-4">
                            <div class="col-md-4">
                                <label class="form-label"><b>Case No</b></label>
                            </div>
                            <div class="col-md-1">
                                <label class="form-label"><b>:</b></label>
                            </div>
                            <div class="col-md-7">
                                <span>{{case_no}}</span>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-4">
                                <label class="form-label"><b>District</b></label>
                            </div>
                            <div class="col-md-1">
                                <label class="form-label"><b>:</b></label>
                            </div>
                            <div class="col-md-7">
                                <span>{{district}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="row mt-4">
                            <div class="col-md-4">
                                <label class="form-label"><b>Registration Date</b></label>
                            </div>
                            <div class="col-md-1">
                                <label class="form-label"><b>:</b></label>
                            </div>
                            <div class="col-md-7">
                                <span>{{reg_date}}</span>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-4">
                                <label class="form-label"><b>Bench Code</b></label>
                            </div>
                            <div class="col-md-1">
                                <label class="form-label"><b>:</b></label>
                            </div>
                            <div class="col-md-7">
                                <span>{{b_code}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="row mt-4">
                            <div class="col-md-4">
                                <label class="form-label"><b>Judgement Date</b></label>
                            </div>
                            <div class="col-md-1">
                                <label class="form-label"><b>:</b></label>
                            </div>
                            <div class="col-md-7">
                                <span>{{judge_date}}</span>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-4">
                                <label class="form-label"><b>Judge(s)</b></label>
                            </div>
                            <div class="col-md-1">
                                <label class="form-label"><b>:</b></label>
                            </div>
                            <div class="col-md-7">
                                <span>{{judges}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="petitioner ">
                                <h3>Petitioner</h3>
                            </div>
                            <div class="row mt-5">
                                <div class="col-md-4">
                                    <label class="form-label"><b>First Petitioner</b></label>
                                </div>
                                <div class="col-md-1">
                                    <label class="form-label"><b>:</b></label>
                                </div>
                                <div class="col-md-7">
                                    <label class="form-label">{{ f_p_name }}</label>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-md-4">
                                    <label class="form-label"><b>Petitioner Counsel(s)</b></label>
                                </div>
                                <div class="col-md-1">
                                    <label class="form-label"><b>:</b></label>
                                </div>
                                <div class="col-md-7">
                                    <label class="form-label">{{ p_counsels }}</label>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-md-4">
                                    <label class="form-label"><b>Additional Petitioner</b></label>
                                </div>
                                <div class="col-md-1">
                                    <label class="form-label"><b>:</b></label>
                                </div>
                                <div class="col-md-7">
                                    <label class="form-label">{{ a_p_name}}</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="petitioner">
                                <h3>Respondent</h3>
                            </div>
                            <div class="row mt-5">
                                <div class="col-md-4">
                                    <label class="form-label"><b>First Respondent</b></label>
                                </div>
                                <div class="col-md-1">
                                    <label class="form-label"><b>:</b></label>
                                </div>
                                <div class="col-md-7">
                                    <label class="form-label">{{ f_r_name }}</label>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-md-4">
                                    <label class="form-label"><b>Respondent Counsel(s)</b></label>
                                </div>
                                <div class="col-md-1">
                                    <label class="form-label"><b>:</b></label>
                                </div>
                                <div class="col-md-7">
                                    <label class="form-label">{{ r_counsels }}</label>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-md-4">
                                    <label class="form-label"><b>Additional Respondent</b></label>
                                </div>
                                <div class="col-md-1">
                                    <label class="form-label"><b>:</b></label>
                                </div>
                                <div class="col-md-7">
                                    <label class="form-label">{{ a_r_name }}</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-end mt-4 mb-5">
                    <button class="btn btn-primary mx-2" type="button" (click)="onHideForm()">Go Back</button>
                    <button class="btn btn-primary mx-3">Save</button>
                    <button class="btn btn-primary" type="button">Next</button>
                </div>
            </div>
        </div>
        <div class="row setup-content" id="step2">
            <div class="row">
                <div class="col-md-4">
                    <label class="form-label">Document Type</label>
                    <select class="form-select" #docType name="docType" [(ngModel)]="doc_type_field">
                        <option value="0">--- Select Document Type ---</option>
                        <option *ngFor="let d of doc_type" value="{{d.id}}">{{d.name}}</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Upload File</label>
                    <input type="file" class="form-control" accept="application/pdf" (change)="onFileUpload($event)" name="file_upload" [(ngModel)]="file_upload">
                </div>
                <div class="col-md-2">
                    <button class="btn btn-primary click" style="margin-top: 31px;" type="button" (click)="onAddStep2(docType.value)">Upload</button>
                </div>
            </div>
            <div class="mt-4">
                <div class="mb-4" *ngIf="!showDocGrid">
                    No Document Uploaded !!
                </div>
                <table class="table table-hover table-responsive" *ngIf="showDocGrid">
                    <thead>
                        <tr>
                            <th class="col text-center">S.No.</th>
                            <th class="col">Document Type</th>
                            <th class="col">Document</th>
                            <th class="col text-center">Delete</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let d of documents; let i=index">
                            <td class="text-center" width="7%">{{i+1}}</td>
                            <td>{{d.related_type.name}}</td>
                            <td><a href="{{d.document_url}}" target="_blank">View</a></td>
                            <td class="text-center" width="5%"><i class="bi bi-x-circle" style="color: red; font-size: 21px; cursor:pointer" (click)="onDeleteDocument(d.id)"></i></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>